% Note, % = a comment to end of line

\ProvidesPackage{bridge-mini}
\usepackage{url,color,parskip,lipsum}
\usepackage[colorlinks,linkcolor=black,urlcolor=blue,pdfstartview=FitH]{hyperref}  
\usepackage{ulem} % for strikeout font and \sout command

%
% \usepackage[top=2cm,bottom=2cm]{geometry}
%
% include above line in local file


\newcommand{\handpat}[1]{{\sffamily #1}}

\newcommand{\rem}[1]{\textit{\color{blue}#1}} % This used to read \emph instead of \textit, but having strange issues with \emph.
%\newcommand{\rem}[1]{} % 'production' version
\newcommand{\ari}[1]{\textit{\color{red}#1}}

\newcommand{\first}{1$^{st}$\thinspace}
\newcommand{\second}{2$^{nd}$\thinspace}
\newcommand{\third}{3$^{rd}$\thinspace}
\newcommand{\fourth}{4$^{th}$\thinspace}
\newcommand{\fifth}{5$^{th}$\thinspace}
\newcommand{\half}{$\frac{1}{2}$\thinspace}


%
% des = Modified description
% In the original description, \labelwidth is set to z@, which seems to 
%   mean 'length of item'
% Setting it to a fixed width gives smooth tabbing, so long as no text
%   exceeds that width
% leftmargin is distance the block starts from the left margin
% itemindent is a first-line-only indent, set to 0 for smooth multi-line 
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\renewenvironment{description}
               {\list{}{\labelwidth 20mm \itemindent 0cm \leftmargin 27mm
                        \let\makelabel\descriptionlabel}}
               {\endlist}

%%%%%

%%%%% Start BidTable

\newcounter{bidtablenumbids}

\def\bidtableauctioncolumnwidth{5em}

\newcommand{\bidtableauction}[1]{
{
    \renewcommand{\arraystretch}{1}
    \setlength\extrarowheight{5pt}
    \setcounter{bidtablenumbids}{0}
    \def\AddBeforeEndtabularx{}
    \begin{tabularx}{10em}{@{}p{2em}p{2em}}
        \forcsvlist{\bidtableprintbidinauction}{#1}
    \end{tabularx}
}}

\newcommand{\bidtableprintbidinauction}[1]{
    \printable{#1}
    \stepcounter{bidtablenumbids}
    \ifthenelse{\isodd{\thebidtablenumbids}}{&}{\\}
}

\makeatletter

\def\AddBeforeEndtabularx{}

\def\TX@find@end#1{%
    \def\@tempa{#1}%
    \ifx\@tempa\TX@%
       \toks@\expandafter{\the\toks@\AddBeforeEndtabularx}%
       \expandafter\TX@endtabularx
    \else\toks@\expandafter
       {\the\toks@\end{#1}}\expandafter\TX@get@body\fi}

\makeatother

\newenvironment{BidTable}[2]{%
    \def\AddBeforeEndtabularx{\hline}
    \renewcommand{\arraystretch}{1}
    \setlength\extrarowheight{10pt}
     % http://tex.stackexchange.com/a/42331/5764
    \tabularx{\linewidth}{@{}|p{\bidtableauctioncolumnwidth}X|}
        \hline
        \bidtableauction{#1,?} & #2 \\
        \hline
}
{\endtabularx}
%}
